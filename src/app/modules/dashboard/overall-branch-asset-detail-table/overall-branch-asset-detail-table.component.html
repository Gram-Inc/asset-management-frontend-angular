<div
  class="flex flex-col flex-auto p-6 bg-white border-4 border-orange-300 rounded-2xl overflow-hidden float"
>
  <div class="text-lg font-medium tracking-tight leading-6 truncate">Asset Details</div>
  <div class="flex flex-col flex-auto mt-2 overflow-x-auto">
    <table
      class="overflow-y-visible"
      mat-table
      [dataSource]="data.branchWiseOverallAssets"
      style="min-width: 260px"
    >
      <!-- Brach -->
      <ng-container matColumnDef="branchCode" sticky>
        <th mat-header-cell *matHeaderCellDef>Branch</th>
        <td mat-cell *matCellDef="let branch">
          <span class="flex items-center">
            <span class="w-2 h-2 rounded-full"></span>
            <span class="ml-3 leading-4">{{ branch.branchCode }}</span>
          </span>
        </td>
      </ng-container>

      <!-- Assigned -->
      <ng-container matColumnDef="ASSIGNED">
        <th mat-header-cell *matHeaderCellDef>Assigned</th>
        <td mat-cell *matCellDef="let branch">
          <span class="font-medium text-right">
            {{ branch.ASSIGNED }}
          </span>
        </td>
      </ng-container>

      <!-- In pool-->
      -->
      <ng-container matColumnDef="IN_POOL">
        <th mat-header-cell *matHeaderCellDef>In Pool</th>
        <td mat-cell *matCellDef="let branch">
          {{ branch.IN_POOL }}
        </td>
      </ng-container>

      <!-- Down -->
      <ng-container matColumnDef="DOWN">
        <th mat-header-cell *matHeaderCellDef>Down</th>
        <td mat-cell *matCellDef="let branch">{{ branch.DOWN }}</td>
      </ng-container>

      <!-- Scrap -->
      <ng-container matColumnDef="SCRAP">
        <th mat-header-cell *matHeaderCellDef>SCRAP</th>
        <td mat-cell *matCellDef="let branch">
          {{ branch.SCRAP }}
        </td>
      </ng-container>

      <!-- Remaining percentage -->
      <ng-container matColumnDef="remainingPercentage">
        <th mat-header-cell *matHeaderCellDef>Working (%)</th>
        <td mat-cell *matCellDef="let branch">
          <span class="flex items-center">
            <span>
              <!-- Low -->
              <span
                class="flex items-end w-1 h-4 bg-red-200 rounded overflow-hidden"
                *ngIf="getPercentage(branch) < 30"
              >
                <span class="flex w-full h-1/3 bg-red-600"></span>
              </span>
              <!-- Medium -->
              <span
                class="flex items-end w-1 h-4 bg-orange-200 rounded overflow-hidden"
                *ngIf="getPercentage(branch) >= 30 && getPercentage(branch) < 80"
              >
                <span class="flex w-full h-2/4 bg-orange-400"></span>
              </span>
              <!-- High -->
              <span
                class="flex items-end w-1 h-4 bg-green-100 rounded overflow-hidden"
                *ngIf="getPercentage(branch) >= 80"
              >
                <span class="flex w-full h-full bg-green-400"></span>
              </span>
            </span>
            <span class="ml-3 leading-4">{{ getPercentage(branch) }}%</span>
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
